# Лабораторная работа по исследованию хеш функций на базе хэш таблицы, построенной на списках
В этой работе мы наглядно покажем как понять, что импользуемая хеш функция плохая!

Таблица (размером 1024 списка) на вход принимает базу из 200 тысяч слов, соответственно эллементы списка - слова

Начнем с первого примера (во всех графиках по оси абцисс отложен номер списка, по оси ординат - колличество элементов в нем)

---

## 1 функция - ASCII код первого символа слова

![firstASCII](https://user-images.githubusercontent.com/89395114/163723511-3e916046-1a73-4426-b146-055973adfd24.png)

По этому графику мы можем заметить, что подавляющее большинство списков осталось пустым, на графике виднеются ярковыраженные пики.

Значит поиск по этой таблице будет неравномерным, соответственно функция - ~~говно~~ плохая 

---

## 2 функция - Длина слова

![word leng](https://user-images.githubusercontent.com/89395114/163723725-b5535e81-602d-4e91-beef-1bf2f01158e7.png)

Тут даже говорить нечего - пики выше, пробелов больше 

Как итог, если прошлая функция - плохая, то это - ~~полное говно~~ очень плохая

---

## 3 функция - сумма ASCII кодов слова

![ASCII sum](https://user-images.githubusercontent.com/89395114/163723808-306f2908-ca70-4476-a195-70d84b6434b6.png)

Если продолжить строить график для таблицы размером 1024 списка, эта функция может обманчиво показаться неплохой.

Но как только размер был увеличен до 5000, функция показала свою суть - чуть лучше чем плохая, чуть хуже чем нормальная

---

## 4 функция - авторский ROR

Для лучшего понимания - см код функции ниже
``` cpp
unsigned long long HashFunc4 (char* word, int leng)
{
    unsigned long long H0 = word[0];

    for (int i = 1 ; i < leng -1 ; i++)
    {
        H0 = ROR(H0) ^ (word[i+1]);
    }

    return H0;
}
```

![ROR1024](https://user-images.githubusercontent.com/89395114/163723953-94341ce5-9c30-4a8f-8405-60f4389a38e7.png)

Казалось бы - ~~говно~~ плохая функция.

НО в силу её специфики, если брать размер таблицы, который представим в виде степени двойки функция ведет себя не лучшим образом

Видимо числа получаются *странными*, для деления на степень двойки

Поменяем размер с 1024 до 1000

![ROR1000](https://user-images.githubusercontent.com/89395114/163724046-1b4eab75-0048-446c-a4d4-cb33c28a932c.png)

Картина кардинально изменилась.

Как итог - нормальная функция, но далеко не идеал!

---

## 5 функция - murmurHash

![murmurHash](https://user-images.githubusercontent.com/89395114/163724081-b42a1f2d-73f0-4f56-9c05-c6de689f4cf1.png)

Сразу видно, что это хорошая хеш функция! 

Пики не ярковыражены, нулей нет - все хорошо !!!

---

## Вывод 

Используйте хорошие хеш функции!~~A не вcякое говно...~~
